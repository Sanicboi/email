import{d as k,r as n,o as x,e as u,j as t,f as m,F as v,l as w,x as c,m as C,p as d}from"./index-C0KVyGTE.js";import{a as i}from"./index-NIGUFBhG.js";const g=["onClick"],b=k({__name:"leads",setup(B){const s=n([]),o=n(""),r=n(""),y=async a=>{try{await i.delete(`/api/leads/${s.value[a].id}`),s.value=s.value.filter((e,l)=>l!==a)}catch(e){console.error(e)}},f=async()=>{try{await i.post("/api/leads",{email:o.value,data:r.value}),s.value.push({email:o.value,id:"1234",status:1})}catch(a){console.error(a)}};return x(async()=>{try{const a=await i.get("/api/leads");s.value=a.data}catch(a){console.error(a)}}),(a,e)=>(d(),u(v,null,[e[2]||(e[2]=t("h1",null,"Пользователи",-1)),(d(!0),u(v,null,w(s.value,(l,p)=>(d(),u("div",{key:p,class:"mt-2"},[t("h3",null,C(l.email),1),t("button",{onClick:D=>y(p)},"Удалить",8,g)]))),128)),e[3]||(e[3]=t("h2",{class:"mt-8"},"Имейл нового лида",-1)),m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>o.value=l),type:"text"},null,512),[[c,o.value]]),e[4]||(e[4]=t("h2",null,"Данные о новом лиде",-1)),m(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=l=>r.value=l)},null,512),[[c,r.value]]),t("button",{onClick:f},"Добавить")],64))}});export{b as default};
