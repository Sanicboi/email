import{d as k,r as n,o as x,e as u,j as t,f as p,F as c,l as b,x as v,m as g,p as d}from"./index-B6JJKcs3.js";import{a as i}from"./index-NIGUFBhG.js";const w=["onClick"],V=k({__name:"leads",setup(C){const s=n([]),o=n(""),r=n(""),f=async a=>{try{await i.delete(`/api/leads/${s.value[a].id}`),s.value=s.value.filter((e,l)=>l!==a)}catch(e){console.error(e)}},y=async()=>{try{await i.post("/api/leads",{email:o.value,data:r.value}),s.value.push({email:o.value,id:"1234",status:1})}catch(a){console.error(a)}};return x(async()=>{try{const a=await i.get("/api/leads");s.value=a.data}catch(a){console.error(a)}}),(a,e)=>(d(),u(c,null,[e[2]||(e[2]=t("h1",null,"Пользователи",-1)),(d(!0),u(c,null,b(s.value,(l,m)=>(d(),u("div",{key:m,class:"mt-2 flex flex-col items-start"},[t("h3",null,g(l.email),1),t("button",{onClick:B=>f(m)},"Удалить",8,w)]))),128)),e[3]||(e[3]=t("h2",{class:"mt-8"},"Имейл нового лида",-1)),p(t("input",{class:"bg-gray-300 border-2 border-black","onUpdate:modelValue":e[0]||(e[0]=l=>o.value=l),type:"text"},null,512),[[v,o.value]]),e[4]||(e[4]=t("h2",null,"Данные о новом лиде",-1)),p(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=l=>r.value=l)},null,512),[[v,r.value]]),t("button",{onClick:y},"Добавить")],64))}});export{V as default};
